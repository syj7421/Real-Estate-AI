{"ast":null,"code":"var _jsxFileName = \"/Users/jungsooyoung/Documents/software modelling/Amenity-Scope/amenity-scope/src/components/Map/MapView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { GoogleMap } from '@react-google-maps/api';\nimport useGoogleMapApi from '../../hooks/useGoogleMapAPI';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst containerStyle = {\n  width: '100%',\n  height: '100vh'\n};\nconst center = {\n  lat: -37.8136,\n  lng: 144.9631\n};\nconst MapView = () => {\n  _s();\n  const {\n    isLoaded,\n    loadError\n  } = useGoogleMapApi();\n  const mapRef = useRef(null);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [places, setPlaces] = useState([]);\n  const handleMapLoad = map => {\n    mapRef.current = map;\n  };\n  const handleMapClick = event => {\n    const latLng = {\n      lat: event.latLng.lat(),\n      lng: event.latLng.lng()\n    };\n    setSelectedPosition(latLng);\n    setPlaces([]);\n  };\n  const handleSearchNearby = async () => {\n    if (!selectedPosition || !mapRef.current) return;\n    const {\n      Place\n    } = await window.google.maps.importLibrary('places');\n    try {\n      const results = await Place.searchNearby({\n        location: selectedPosition,\n        radius: 800,\n        includedTypes: ['restaurant', 'cafe', 'convenience_store', 'supermarket'],\n        maxResultCount: 20\n      });\n      setPlaces(results);\n    } catch (error) {\n      console.error('Place.searchNearby 에러:', error);\n    }\n  };\n  if (loadError) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Error loading maps\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 25\n  }, this);\n  if (!isLoaded) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading maps...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GoogleMap, {\n      mapContainerStyle: containerStyle,\n      center: center,\n      zoom: 14,\n      onClick: handleMapClick,\n      onLoad: handleMapLoad,\n      children: [selectedPosition && new window.google.maps.marker.AdvancedMarkerElement({\n        position: selectedPosition,\n        map: mapRef.current\n      }), places.map((place, index) => {\n        var _place$displayName;\n        return new window.google.maps.marker.AdvancedMarkerElement({\n          position: place.location,\n          map: mapRef.current,\n          title: ((_place$displayName = place.displayName) === null || _place$displayName === void 0 ? void 0 : _place$displayName.text) || 'Place'\n        });\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), selectedPosition && /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        position: 'absolute',\n        bottom: '30px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n        padding: '10px 20px',\n        fontSize: '16px',\n        zIndex: 999\n      },\n      onClick: handleSearchNearby,\n      children: \"Search Nearby\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(MapView, \"wI/WeJcvWQy/koycRLW7WADO3OM=\", false, function () {\n  return [useGoogleMapApi];\n});\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useState","useRef","GoogleMap","useGoogleMapApi","jsxDEV","_jsxDEV","Fragment","_Fragment","containerStyle","width","height","center","lat","lng","MapView","_s","isLoaded","loadError","mapRef","selectedPosition","setSelectedPosition","places","setPlaces","handleMapLoad","map","current","handleMapClick","event","latLng","handleSearchNearby","Place","window","google","maps","importLibrary","results","searchNearby","location","radius","includedTypes","maxResultCount","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","mapContainerStyle","zoom","onClick","onLoad","marker","AdvancedMarkerElement","position","place","index","_place$displayName","title","displayName","text","style","bottom","left","transform","padding","fontSize","zIndex","_c","$RefreshReg$"],"sources":["/Users/jungsooyoung/Documents/software modelling/Amenity-Scope/amenity-scope/src/components/Map/MapView.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { GoogleMap } from '@react-google-maps/api';\nimport useGoogleMapApi from '../../hooks/useGoogleMapAPI';\n\nconst containerStyle = {\n  width: '100%',\n  height: '100vh',\n};\n\nconst center = {\n  lat: -37.8136,\n  lng: 144.9631,\n};\n\nconst MapView = () => {\n  const { isLoaded, loadError } = useGoogleMapApi();\n  const mapRef = useRef(null);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [places, setPlaces] = useState([]);\n\n  const handleMapLoad = (map) => {\n    mapRef.current = map;\n  };\n\n  const handleMapClick = (event) => {\n    const latLng = {\n      lat: event.latLng.lat(),\n      lng: event.latLng.lng(),\n    };\n    setSelectedPosition(latLng);\n    setPlaces([]);\n  };\n\n  const handleSearchNearby = async () => {\n    if (!selectedPosition || !mapRef.current) return;\n\n    const { Place } = await window.google.maps.importLibrary('places');\n\n    try {\n      const results = await Place.searchNearby({\n        location: selectedPosition,\n        radius: 800,\n        includedTypes: ['restaurant', 'cafe', 'convenience_store', 'supermarket'],\n        maxResultCount: 20,\n      });\n\n      setPlaces(results);\n    } catch (error) {\n      console.error('Place.searchNearby 에러:', error);\n    }\n  };\n\n  if (loadError) return <div>Error loading maps</div>;\n  if (!isLoaded) return <div>Loading maps...</div>;\n\n  return (\n    <>\n      <GoogleMap\n        mapContainerStyle={containerStyle}\n        center={center}\n        zoom={14}\n        onClick={handleMapClick}\n        onLoad={handleMapLoad}\n      >\n        {selectedPosition && (\n          new window.google.maps.marker.AdvancedMarkerElement({\n            position: selectedPosition,\n            map: mapRef.current,\n          })\n        )}\n\n        {places.map((place, index) => (\n          new window.google.maps.marker.AdvancedMarkerElement({\n            position: place.location,\n            map: mapRef.current,\n            title: place.displayName?.text || 'Place',\n          })\n        ))}\n      </GoogleMap>\n\n      {selectedPosition && (\n        <button\n          style={{\n            position: 'absolute',\n            bottom: '30px',\n            left: '50%',\n            transform: 'translateX(-50%)',\n            padding: '10px 20px',\n            fontSize: '16px',\n            zIndex: 999,\n          }}\n          onClick={handleSearchNearby}\n        >\n          Search Nearby\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default MapView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}