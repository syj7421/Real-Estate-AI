{"ast":null,"code":"import axios from 'axios';\n\n/**\n * Fetch nearby amenity nodes from Overpass API.\n * @param {{ lat: number, lng: number, radius: number, amenities: string[] }} opts\n * @returns {Promise<{id:number,name:string,lat:number,lng:number,type:string}[]>}\n */\nexport async function searchNearbyAmenities({\n  lat,\n  lng,\n  radius,\n  amenities\n}) {\n  // Build Overpass QL filters\n  const filters = amenities.map(a => `node[\"amenity\"=\"${a}\"](around:${radius},${lat},${lng});`).join('\\n');\n  const query = `\n[out:json][timeout:25];\n(\n  ${filters}\n);\nout body;\n`;\n  const {\n    data\n  } = await axios.post('https://overpass-api.de/api/interpreter', query, {\n    headers: {\n      'Content-Type': 'text/plain'\n    }\n  });\n  return data.elements.map(el => ({\n    id: el.id,\n    name: el.tags.name || 'Unnamed',\n    lat: el.lat,\n    lng: el.lon,\n    type: el.tags.amenity\n  }));\n}","map":{"version":3,"names":["axios","searchNearbyAmenities","lat","lng","radius","amenities","filters","map","a","join","query","data","post","headers","elements","el","id","name","tags","lon","type","amenity"],"sources":["/Users/jungsooyoung/Documents/software modelling/Real-Estate-AI/src/utils/searchNearbyAmenities.js"],"sourcesContent":["import axios from 'axios';\n\n/**\n * Fetch nearby amenity nodes from Overpass API.\n * @param {{ lat: number, lng: number, radius: number, amenities: string[] }} opts\n * @returns {Promise<{id:number,name:string,lat:number,lng:number,type:string}[]>}\n */\nexport async function searchNearbyAmenities({ lat, lng, radius, amenities }) {\n  // Build Overpass QL filters\n  const filters = amenities\n    .map(a => `node[\"amenity\"=\"${a}\"](around:${radius},${lat},${lng});`)\n    .join('\\n');\n\n  const query = `\n[out:json][timeout:25];\n(\n  ${filters}\n);\nout body;\n`;\n\n  const { data } = await axios.post(\n    'https://overpass-api.de/api/interpreter',\n    query,\n    { headers: { 'Content-Type': 'text/plain' } }\n  );\n\n  return data.elements.map(el => ({\n    id: el.id,\n    name: el.tags.name || 'Unnamed',\n    lat: el.lat,\n    lng: el.lon,\n    type: el.tags.amenity,\n  }));\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeC,qBAAqBA,CAAC;EAAEC,GAAG;EAAEC,GAAG;EAAEC,MAAM;EAAEC;AAAU,CAAC,EAAE;EAC3E;EACA,MAAMC,OAAO,GAAGD,SAAS,CACtBE,GAAG,CAACC,CAAC,IAAI,mBAAmBA,CAAC,aAAaJ,MAAM,IAAIF,GAAG,IAAIC,GAAG,IAAI,CAAC,CACnEM,IAAI,CAAC,IAAI,CAAC;EAEb,MAAMC,KAAK,GAAG;AAChB;AACA;AACA,IAAIJ,OAAO;AACX;AACA;AACA,CAAC;EAEC,MAAM;IAAEK;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,IAAI,CAC/B,yCAAyC,EACzCF,KAAK,EACL;IAAEG,OAAO,EAAE;MAAE,cAAc,EAAE;IAAa;EAAE,CAC9C,CAAC;EAED,OAAOF,IAAI,CAACG,QAAQ,CAACP,GAAG,CAACQ,EAAE,KAAK;IAC9BC,EAAE,EAAED,EAAE,CAACC,EAAE;IACTC,IAAI,EAAEF,EAAE,CAACG,IAAI,CAACD,IAAI,IAAI,SAAS;IAC/Bf,GAAG,EAAEa,EAAE,CAACb,GAAG;IACXC,GAAG,EAAEY,EAAE,CAACI,GAAG;IACXC,IAAI,EAAEL,EAAE,CAACG,IAAI,CAACG;EAChB,CAAC,CAAC,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}